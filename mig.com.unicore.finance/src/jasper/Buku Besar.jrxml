<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Buku Besar" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="b8a35e17-a4b3-4ae6-8040-cdfe25aebc17">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="StartDate" class="java.util.Date"/>
	<parameter name="EndDate" class="java.util.Date"/>
	<parameter name="DateAcct" class="java.util.Date" isForPrompting="false"/>
	<parameter name="C_BankAccount_ID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select now(),ba.name as bank_name , bsline.dateacct, case transactiontype when 'ART' then bsline.chargeamt else 0 end as debit, case bsline.transactiontype when 'APT' then bsline.chargeamt else 0 end as kredit , (select sum(beginningbalance) from c_bankstatement where dateacct <= $P{StartDate}) as saldo_awal, (select sum(endingbalance) from c_bankstatement where dateacct >= $P{EndDate}) as saldoakhir, coalesce(bsline.description,'-') as keterangan,coalesce(bsline.referenceno, '-') as refrenceno, (case transactiontype when 'ART' then bs.beginningbalance + bsline.chargeamt when 'APT' then bs.beginningbalance + bsline.chargeamt end) as saldo from c_bankstatement bs join c_bankaccount ba on (bs.c_bankaccount_id = ba.c_bankaccount_id) join c_bankstatementline bsline on (bs.c_bankstatement_id =  bsline.c_bankstatement_id) where bs.dateacct between $P{StartDate} and $P{EndDate} and bs.C_BankAccount_ID = $P{C_BankAccount_ID} order by bsline.c_bankstatementline_id]]>
	</queryString>
	<field name="now" class="java.sql.Timestamp"/>
	<field name="bank_name" class="java.lang.String"/>
	<field name="dateacct" class="java.sql.Timestamp"/>
	<field name="debit" class="java.math.BigDecimal"/>
	<field name="kredit" class="java.math.BigDecimal"/>
	<field name="saldo_awal" class="java.math.BigDecimal"/>
	<field name="saldoakhir" class="java.math.BigDecimal"/>
	<field name="keterangan" class="java.lang.String"/>
	<field name="refrenceno" class="java.lang.String"/>
	<field name="saldo" class="java.math.BigDecimal"/>
	<variable name="debit_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{debit}]]></variableExpression>
	</variable>
	<variable name="kredit_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{kredit}]]></variableExpression>
	</variable>
	<variable name="No" class="java.lang.Integer" incrementType="Report">
		<variableExpression><![CDATA[$V{No} == null ? 1 : $V{No} + 1]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement uuid="51cf477f-7d14-48f0-85d9-0f916434aa12" x="242" y="26" width="115" height="20"/>
				<textElement textAlignment="Justified">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[BUKU BESAR]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="d31f24a7-9bc5-4aa3-b573-cbf6117fc81c" x="224" y="46" width="47" height="20"/>
				<textElement/>
				<text><![CDATA[Periode : ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1769d23e-a9f4-455d-8c40-070630dcc2f3" x="0" y="6" width="100" height="20"/>
				<textElement textAlignment="Justified">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[CV. FAJAR LESTARI]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f1d09dc9-cae4-4ae1-80c0-3d2c99913e68" x="391" y="6" width="79" height="20"/>
				<textElement/>
				<text><![CDATA[Tanggal Cetak :]]></text>
			</staticText>
			<textField>
				<reportElement uuid="5e845a74-b420-42df-b821-a00b8c91b6d3" x="0" y="59" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{bank_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="19116104-16d7-4082-93b3-b23aaf943b0f" x="482" y="6" width="47" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{now}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="0b472127-e21a-4a59-8d25-8c1bcfe2a12b" x="271" y="46" width="44" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$P{StartDate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="589f55f4-af29-4c1f-8df7-a17d7914a534" x="295" y="42" width="25" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[-]]></text>
			</staticText>
			<textField>
				<reportElement uuid="3b72a62e-d9fc-499b-94d0-55352a9e1ac6" x="316" y="46" width="44" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$P{EndDate}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="af04316c-60a3-4ecb-800c-0f12dd8303e8" x="521" y="59" width="34" height="16"/>
				<textElement>
					<font size="7"/>
				</textElement>
				<text><![CDATA[Idempiere]]></text>
			</staticText>
		</band>
	</title>
	<columnHeader>
		<band height="46" splitType="Stretch">
			<staticText>
				<reportElement uuid="80a5fca1-ef57-4ad3-8b92-1c3e67eaef2c" x="35" y="0" width="49" height="20"/>
				<textElement/>
				<text><![CDATA[Tanggal]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="295163d2-a24b-4018-a1ea-cd983f1ffe3b" x="118" y="0" width="46" height="20"/>
				<textElement/>
				<text><![CDATA[No. Bukti]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7645d93e-ead2-46b7-a22c-dde8a770d475" x="203" y="0" width="61" height="20"/>
				<textElement/>
				<text><![CDATA[Keterangan]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="25860e80-bf5d-43dd-b3b6-fb20d275c3c3" x="312" y="0" width="47" height="20"/>
				<textElement/>
				<text><![CDATA[Debet]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e8e1338d-6b41-43e9-a334-54f4bd28f9cf" x="391" y="1" width="58" height="20"/>
				<textElement/>
				<text><![CDATA[Kredit]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1ae0ba07-49a6-4ddc-ab43-9c4ba72a6b71" x="24" y="25" width="61" height="20"/>
				<textElement/>
				<text><![CDATA[Saldo Awal :]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement uuid="1e68f5ed-9d25-48de-b666-14058bc21354" x="468" y="25" width="74" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{saldo_awal}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="c247330e-703b-42fa-a2ae-c320826562fa" x="0" y="20" width="555" height="1"/>
			</line>
			<staticText>
				<reportElement uuid="5b3d70cc-eb31-4125-8a34-bc949cc4c12f" x="482" y="2" width="100" height="20"/>
				<textElement/>
				<text><![CDATA[saldo]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="25" splitType="Stretch">
			<textField pattern="#,##0.00">
				<reportElement uuid="c1418ec6-2032-42c1-91c9-113b5eca36cd" x="301" y="5" width="58" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{debit}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="fd1341df-ef34-4d83-8b05-92c49e68e2a0" x="32" y="5" width="44" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{dateacct}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="01395dd1-c536-4150-888a-702986e5ab26" x="384" y="4" width="62" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{kredit}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="426b33b8-16ed-4f1b-967f-f8b3de16074b" x="194" y="5" width="72" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{keterangan}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="1a787aa7-36c9-4000-92af-cf62f4aec13d" x="73" y="5" width="100" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{refrenceno}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="99866473-5550-464c-a35e-da065d74f87a" x="468" y="4" width="74" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{saldo}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="42" splitType="Stretch">
			<staticText>
				<reportElement uuid="be68df50-271e-486f-9a87-2b523b562346" x="19" y="0" width="66" height="20"/>
				<textElement/>
				<text><![CDATA[Saldo Akhir :]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement uuid="a345b9d6-a827-406d-a6ca-404b86b6bafa" x="468" y="0" width="74" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{saldoakhir}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="5f7b8420-d68f-44f2-8ada-17a23f2f6927" x="300" y="0" width="65" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$V{debit_1}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="db302974-3660-4e17-96c4-39d0ba2f7651" x="384" y="1" width="62" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$V{kredit_1}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="b2acf9c3-1490-4497-aac9-350420e222bb" x="98" y="0" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{bank_name}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="c247330e-703b-42fa-a2ae-c320826562fa" x="0" y="0" width="555" height="1"/>
			</line>
		</band>
	</summary>
</jasperReport>
