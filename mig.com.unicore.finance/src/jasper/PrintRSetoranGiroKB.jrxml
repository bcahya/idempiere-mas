<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PrintRSetoranGiroKB" language="groovy" pageWidth="612" pageHeight="396" columnWidth="572" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="68f48bec-51a1-4248-add7-f10880d64b52">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="Action" class="java.lang.String"/>
	<parameter name="C_BankAccount_ID" class="java.lang.Integer"/>
	<parameter name="DateFrom" class="java.sql.Timestamp"/>
	<parameter name="DateTo" class="java.sql.Timestamp"/>
	<queryString>
		<![CDATA[SELECT
     uns_customerbg."duedate" AS tgljtempo,
     uns_customerbg."limitamt" AS jmlgiro,
     uns_customerbg."receiptdate" AS tglgiro,
     uns_customerbg."name" AS kodegiro,
     bankgiro."name" AS bankgiro,
case when uns_customerbg_action.c_Bankaccount_id IS NOT NULL
then
(select concat((select name from c_bank where c_bank_id = c_bankaccount.c_bank_id), ' - ', name) from c_bankaccount where c_bankaccount_id = uns_customerbg_action.c_bankaccount_id)
else
'Bank Pencairan Belum Didefinisi' end as bankcair
FROM
     "adempiere"."uns_customerbg" uns_customerbg
INNER JOIN "adempiere"."uns_customerbg_action" uns_customerbg_action ON uns_customerbg."uns_customerbg_id" = uns_customerbg_action."uns_customerbg_id"
     INNER JOIN "adempiere"."c_bank" bankgiro ON uns_customerbg."c_bank_id" = bankgiro."c_bank_id"
WHERE
     uns_customerbg_action."action" = $P{Action} AND
((uns_customerbg_action.docstatus = 'CO' OR uns_customerbg_action.docstatus = 'CL') OR uns_customerbg_action.action = 'NN') AND
case when $P{C_BankAccount_ID} IS NOT NULL AND $P{C_BankAccount_ID} > 0THEN uns_customerbg_action."c_bankaccount_id"= $P{C_BankAccount_ID}
else
uns_customerbg_action.c_bankaccount_id IS NULL end AND uns_customerbg_action.datedoc between $P{DateFrom} AND $P{DateTo}]]>
	</queryString>
	<field name="tgljtempo" class="java.sql.Timestamp"/>
	<field name="jmlgiro" class="java.math.BigDecimal"/>
	<field name="tglgiro" class="java.sql.Timestamp"/>
	<field name="kodegiro" class="java.lang.String"/>
	<field name="bankgiro" class="java.lang.String"/>
	<field name="bankcair" class="java.lang.String"/>
	<variable name="jmlgiro_1" class="java.math.BigDecimal" resetType="Column" calculation="Sum">
		<variableExpression><![CDATA[$F{jmlgiro}]]></variableExpression>
	</variable>
	<group name="bank">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupFooter>
			<band height="50">
				<staticText>
					<reportElement x="332" y="0" width="100" height="20" uuid="8382b2ba-de50-4fca-a7f1-5dd447b363db"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="8"/>
					</textElement>
					<text><![CDATA[TOTAL]]></text>
				</staticText>
				<textField pattern="#,##0.00">
					<reportElement x="442" y="0" width="119" height="20" uuid="4e95ca5f-bd54-4946-b0c6-ef08cbcfdd83"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Tahoma" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{jmlgiro_1}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="0" width="572" height="1" uuid="8b04b5fc-d43a-4f7a-90dc-98e1941c4766"/>
					<graphicElement>
						<pen lineWidth="1.0" lineStyle="Solid" lineColor="#999999"/>
					</graphicElement>
				</line>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="51" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="572" height="20" uuid="62dcf476-b339-4953-8e26-09151b4a4cca"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="12" isBold="false" isUnderline="true"/>
				</textElement>
				<text><![CDATA[REKAP SETORAN GIRO KE BANK]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="27" width="41" height="20" uuid="8900a14e-4a6c-459a-84b3-7f25ffda7619"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Bank]]></text>
			</staticText>
			<staticText>
				<reportElement x="393" y="27" width="43" height="20" uuid="67c699a7-3755-49aa-a08f-3da9ce05fb21"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<text><![CDATA[Tanggal]]></text>
			</staticText>
			<textField>
				<reportElement x="435" y="27" width="136" height="20" uuid="5cbe87d0-6980-45cd-937c-8ad9199eb1e6"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[": " + new SimpleDateFormat("dd/MM/yyyy").format($P{DateFrom}) + " - " + new SimpleDateFormat("dd/MM/yyyy").format($P{DateTo})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="40" y="27" width="149" height="20" uuid="213fa48d-4f9f-499f-921e-67ffa0e0d2d1"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[": ".concat($F{bankcair})]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="25" splitType="Stretch">
			<rectangle>
				<reportElement x="0" y="4" width="572" height="20" uuid="f90fab49-95f7-4b81-b293-89d4e6ac9e31"/>
				<graphicElement>
					<pen lineWidth="1.0" lineStyle="Dashed" lineColor="#999999"/>
				</graphicElement>
			</rectangle>
			<staticText>
				<reportElement x="10" y="4" width="87" height="20" uuid="fc219e8a-47d4-433d-befb-231644c46e3f"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<text><![CDATA[Kode Giro]]></text>
			</staticText>
			<staticText>
				<reportElement x="97" y="4" width="85" height="20" uuid="e16516e8-e99c-44c8-9f1a-82a222fa0847"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<text><![CDATA[Tanggal Giro]]></text>
			</staticText>
			<staticText>
				<reportElement x="189" y="4" width="92" height="20" uuid="bf0e8c31-ab01-420f-9514-3092aad6edec"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<text><![CDATA[Tanggal Jt Tempo]]></text>
			</staticText>
			<staticText>
				<reportElement x="292" y="5" width="117" height="20" uuid="ea268df7-f91b-421f-b24a-1fe33d999437"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<text><![CDATA[Nama Bank]]></text>
			</staticText>
			<staticText>
				<reportElement x="425" y="4" width="136" height="20" uuid="c889b774-80f9-4384-9e64-b9816ae7f94d"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<text><![CDATA[Jumlah Giro]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="21" splitType="Stretch">
			<textField>
				<reportElement x="9" y="0" width="88" height="20" uuid="e2cf1b5a-1e5e-4cb3-8052-8f302754dcc7"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{kodegiro}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="97" y="0" width="85" height="20" uuid="2fba3b0e-bdc9-4319-8db7-65941dd85763"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tglgiro}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="189" y="0" width="92" height="20" uuid="347c6671-7fa9-4f59-8f44-c0b4c9efaec6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tgljtempo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="292" y="0" width="117" height="20" uuid="2542b01f-9dec-4eaf-a6fb-f765b15e83c6"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{bankgiro}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="425" y="0" width="136" height="20" uuid="e42310ab-ebc4-4da2-8b80-1ae42a6ab080"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Tahoma" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{jmlgiro}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
