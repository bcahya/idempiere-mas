<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReportPhysicalInventory" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="2de3f88b-32aa-4fae-a7e8-440d96f3fe0c">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="AD_Org_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[1000008]]></defaultValueExpression>
	</parameter>
	<parameter name="StartDate" class="java.sql.Timestamp">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="EndDate" class="java.sql.Timestamp">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select ao.name as Departement, mi.movementdate as MovementDate, mw.name as WareHouse, ml.value as Locator, mp.name as Product, mil.qtybook, mil.qtycount, cu.name as UOM, ABS(mil.qtybook - mil.qtycount) as Difference

from m_inventory mi

inner join ad_org ao ON ao.ad_org_id = mi.ad_org_id

inner join m_warehouse mw ON mw.m_warehouse_id = mi.m_warehouse_id

inner join m_inventoryline mil ON mil.m_inventory_id = mi.m_inventory_id

inner join m_locator ml ON ml.m_locator_id = mil.m_locator_id

inner join m_product mp ON mp.m_product_id = mil.m_product_id

inner join c_uom cu ON cu.c_uom_id = mp.c_uom_id

where mi.docstatus='CO' AND ao.ad_org_id = $P{AD_Org_ID} AND mi.movementdate between $P{StartDate} AND $P{EndDate}

order by mw.name, ml.value, mi.movementdate, mp.name]]>
	</queryString>
	<field name="departement" class="java.lang.String"/>
	<field name="movementdate" class="java.sql.Timestamp"/>
	<field name="warehouse" class="java.lang.String"/>
	<field name="locator" class="java.lang.String"/>
	<field name="product" class="java.lang.String"/>
	<field name="qtybook" class="java.math.BigDecimal"/>
	<field name="qtycount" class="java.math.BigDecimal"/>
	<field name="uom" class="java.lang.String"/>
	<field name="difference" class="java.math.BigDecimal"/>
	<variable name="number" class="java.lang.Integer" resetType="Group" resetGroup="Locator">
		<variableExpression><![CDATA[($V{number} == null) ?1: $V{number} + 1]]></variableExpression>
	</variable>
	<group name="WareHouse">
		<groupExpression><![CDATA[$F{warehouse}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<staticText>
					<reportElement uuid="bc73f20e-b18d-41bf-aff1-87366ccaa1cb" x="0" y="0" width="70" height="20"/>
					<box leftPadding="5" rightPadding="5">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Gudang]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="edd44a9f-d457-4a60-a7bb-d24036c04000" x="70" y="0" width="13" height="20"/>
					<box leftPadding="5" rightPadding="5">
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[:]]></text>
				</staticText>
				<textField>
					<reportElement uuid="9bab5670-8dea-4e5a-aed7-9b8f5b44b528" x="83" y="0" width="472" height="20"/>
					<box leftPadding="5" rightPadding="5">
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{warehouse}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="Locator">
		<groupExpression><![CDATA[$F{locator}]]></groupExpression>
		<groupHeader>
			<band height="44">
				<staticText>
					<reportElement uuid="22fe4bce-3c82-4feb-853a-07717ddd517f" x="101" y="20" width="216" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Produk]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="ab87906f-e5ff-47d4-8023-9c87887206e3" x="317" y="20" width="56" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Kuantitas Catatan]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="3ab171dd-4734-46cb-83a8-406d879b2b5e" x="373" y="20" width="76" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Kuantitas Pemeriksaan]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="c7ab1078-4b8a-4ee9-8d38-ea440daad22b" x="449" y="20" width="54" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Satuan]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="f4ee58fd-3977-4e54-887b-dec987f25799" x="503" y="20" width="52" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Selisih]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="6537dd27-b95e-4cd7-8d80-d29d59a8ed80" x="27" y="20" width="74" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Tanggal Periksa]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="b738bbf7-3581-4719-a787-e54be42e3033" x="0" y="0" width="70" height="20"/>
					<box leftPadding="5" rightPadding="5">
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Locator]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="0d843a2a-4db9-456a-8407-724f1a193b57" x="0" y="20" width="27" height="24"/>
					<box leftPadding="5" rightPadding="5">
						<pen lineWidth="1.0"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[NO]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="edd44a9f-d457-4a60-a7bb-d24036c04000" x="70" y="0" width="13" height="20"/>
					<box leftPadding="5" rightPadding="5">
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[:]]></text>
				</staticText>
				<textField>
					<reportElement uuid="b57ad6cb-95cb-4e93-8337-605b1b1311ba" x="83" y="0" width="472" height="20"/>
					<box leftPadding="5" rightPadding="5">
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{locator}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="21"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement uuid="ee13a43e-91ce-4919-ab65-6341fb3b8432" x="0" y="59" width="70" height="20"/>
				<box leftPadding="5" rightPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Tanggal Periksa]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="edd44a9f-d457-4a60-a7bb-d24036c04000" x="70" y="59" width="13" height="20"/>
				<box leftPadding="5" rightPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement uuid="ca1211e5-1721-4db9-9d67-51475e612443" x="83" y="59" width="472" height="20"/>
				<box leftPadding="5" rightPadding="5"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[""+new SimpleDateFormat("dd/MM/yyyy").format($P{StartDate})+" - "+new SimpleDateFormat("dd/MM/yyyy").format($P{EndDate})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="5d485777-07ee-411b-abb9-9c6054e74ed7" x="0" y="0" width="555" height="44"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["LAPORAN PERSEDIAAN BARANG\n"+$F{departement}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="309b049b-eed9-4398-a243-f58f9b4a791b" x="0" y="51" width="555" height="1"/>
				<graphicElement>
					<pen lineWidth="2.0" lineStyle="Double"/>
				</graphicElement>
			</line>
		</band>
	</title>
	<detail>
		<band height="20" splitType="Stretch">
			<textField pattern="dd/MM/yyyy">
				<reportElement uuid="832d8294-c74c-4812-a6e8-d52ce6bf4edf" x="27" y="0" width="74" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{movementdate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="0f9fe82b-1738-4170-ac48-fb45719f98be" x="101" y="0" width="216" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{product}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="467580e0-5962-4019-b2f2-a84faa503318" x="317" y="0" width="56" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qtybook}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="651db9ee-5738-4746-b6b3-d50bc60c5b04" x="373" y="0" width="76" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qtycount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="a6aaeeea-5a56-4c34-a2d5-7bb25afbfcc8" x="449" y="0" width="54" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{uom}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="2722e205-097d-498a-9a95-03ef105b0556" x="503" y="0" width="52" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{difference}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="db82414b-e3ed-4f52-9995-38dbd6c0e90d" x="0" y="0" width="27" height="20"/>
				<box leftPadding="5" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{number}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="44" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="20">
			<textField evaluationTime="Report">
				<reportElement uuid="e484222b-d467-47f0-a0b1-d40b6ad85027" positionType="Float" x="536" y="0" width="19" height="20"/>
				<textElement verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="eba02e8f-4643-4c8f-a102-bc8990458ecf" x="436" y="0" width="101" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}+" /  "]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
