<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReportEmployeeInfo" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="eb7852e8-4dae-40ab-b20e-685815578ee8">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="IsContracted" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="AttendanceName" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_Org_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
ag.name AS Organization,
ep.value AS NIP,
ep.name AS NameLengkap,
ep.nickname AS NamaPanggilan,
attendancename AS AttendanceName,
cb.name AS SectionOfDept,
CONCAT(cr.documentno,'_',cr.newnik) AS Contract

FROM UNS_Employee ep
INNER JOIN Ad_Org ag ON ag.Ad_Org_ID=ep.Ad_Org_ID
LEFT JOIN UNS_Contract_Recommendation cr ON cr.UNS_Contract_Recommendation_ID=ep.UNS_Contract_Recommendation_id
LEFT JOIN C_BPartner cb ON cb.C_BPartner_id=cr.newsectionofdept_id AND cb.isemployee ='Y'

WHERE (CASE WHEN $P{IsContracted}='Y' THEN ep.UNS_Contract_Recommendation_ID IS NOT NULL WHEN $P{IsContracted}='N' THEN ep.UNS_Contract_Recommendation_ID IS NULL ELSE 1=2 END)
 AND
(CASE WHEN $P{AttendanceName} = 'Y' THEN ep.AttendanceName IS NOT NULL WHEN $P{AttendanceName} = 'N' THEN ep.AttendanceName IS NULL ELSE 1=2 END)
AND
CASE WHEN $P{AD_Org_ID} IS NOT NULL THEN ag.Ad_Org_ID=$P{AD_Org_ID} ELSE 1=1 END

ORDER BY Organization,NameLengkap]]>
	</queryString>
	<field name="organization" class="java.lang.String"/>
	<field name="nip" class="java.lang.String"/>
	<field name="namelengkap" class="java.lang.String"/>
	<field name="namapanggilan" class="java.lang.String"/>
	<field name="attendancename" class="java.lang.String"/>
	<field name="sectionofdept" class="java.lang.String"/>
	<field name="contract" class="java.lang.String"/>
	<variable name="number" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{number} == null ? 1 : $V{number} + 1]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="555" height="20" uuid="9a66535f-b190-42ff-b2e6-c9da24bb172f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Report Data Contract  Employee]]></text>
			</staticText>
			<staticText>
				<reportElement x="475" y="0" width="80" height="11" uuid="adbcc431-377a-42b2-a35e-60877fb20fe4"/>
				<textElement textAlignment="Right" markup="none">
					<font size="6" isItalic="true"/>
				</textElement>
				<text><![CDATA[UntaCore ERP]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="21" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement x="101" y="0" width="90" height="20" uuid="dee9c418-694a-4e9d-b46c-2863d0000a46"/>
				<box leftPadding="3">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Full Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="191" y="0" width="64" height="20" uuid="0d4d0702-2a15-4a19-a216-91732e2db747"/>
				<box leftPadding="3">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Nick Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="255" y="0" width="96" height="20" uuid="bf6c59fd-b786-471a-9046-449139d75f58"/>
				<box leftPadding="3">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Attendance Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="351" y="0" width="114" height="20" uuid="77525eed-b4ac-48ff-9389-24a52d02f997"/>
				<box leftPadding="3">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Section Of Department]]></text>
			</staticText>
			<staticText>
				<reportElement x="465" y="0" width="91" height="20" uuid="f30c75c6-8ac1-4b0f-975e-594dc935221a"/>
				<box leftPadding="5">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Contract]]></text>
			</staticText>
			<staticText>
				<reportElement x="20" y="0" width="81" height="20" uuid="3c3ba430-f038-4938-b78b-301408ebd40d"/>
				<box leftPadding="3">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Organization]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="20" height="20" uuid="bd2f6606-b161-47c9-9ac0-f1070bf8fb8f"/>
				<box leftPadding="0">
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[No.]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="101" y="0" width="90" height="20" uuid="e026cf24-74d3-4cc5-9a96-31c987012bf9"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{namelengkap}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="191" y="0" width="64" height="20" uuid="2d5bface-a972-4bbb-9f4c-144d2b17bdaa"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{namapanggilan}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="255" y="0" width="96" height="20" uuid="2140dccd-029b-4d91-99c6-c5bd2096de67"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{attendancename} == null ? "-" : $F{attendancename}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="351" y="0" width="114" height="20" uuid="9426ce1a-3467-41fc-a517-560215765bb2"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{sectionofdept} == null ? "-" : $F{sectionofdept}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="465" y="0" width="91" height="20" uuid="2c93fb84-41b1-4723-97df-e41defe954bc"/>
				<box leftPadding="6"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{contract}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="20" y="0" width="81" height="20" uuid="32381a27-b34a-43f3-b7d1-deaded047e93"/>
				<box leftPadding="3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{organization}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="20" height="20" uuid="d62faa78-8318-45b0-9bb2-daea0c178da0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{number}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="21" splitType="Stretch"/>
	</summary>
</jasperReport>
