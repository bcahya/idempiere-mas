<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ReportPemakaianBahanBaku" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="0644e906-aa51-49a2-ad70-1020d7d26698">
	<property name="ireport.zoom" value="0.75"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="DateFrom" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="DateTo" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_Org_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="M_Product_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["D:\\work\\dev\\FLG\\com.unicore.ppic\\src\\jasper\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
cl.name AS Client,
org.name AS org,
p.value as value,
prod.documentno as docno,
pd.uns_production_detail_ID AS pd_id,
loc.value as Locator,
p.name AS product,
prod.productiondate as date,
COALESCE (uom.UOMsymbol,uom.name) AS UOM ,
pd.movementqty * -1 AS qty

FROM UNS_Production prod
INNER JOIN AD_Client cl ON cl.AD_Client_ID=prod.AD_Client_ID
INNER JOIN AD_Org org ON org.AD_Org_ID=prod.AD_Org_ID
INNER JOIN UNS_Production_Detail pd ON pd.UNS_Production_ID=prod.UNS_Production_ID
INNER JOIN M_product p ON p.M_Product_ID=pd.M_Product_ID
INNER JOIN C_UOM uom ON uom.C_UOM_ID=p.C_UOM_ID
INNER JOIN M_Locator loc ON loc.M_Locator_ID=pd.M_Locator_ID
INNER JOIN UNS_Resource re ON re.UNS_Resource_ID=prod.UNS_Resource_ID

WHERE  prod.docstatus in ('CO','CL') AND pd.IsEndProduct='N' AND prod.movementdate between $P{DateFrom} and $P{DateTo} AND (Case When $P{M_Product_ID} is not null then p.M_Product_ID=$P{M_Product_ID}else 1=1 END) and prod.C_doctype_ID!=1000471
group by org.name, qty, locator, p.name,date,docno,p.value,cl.name,org,uom,pd_id
order by org.name, p.name]]>
	</queryString>
	<field name="client" class="java.lang.String"/>
	<field name="org" class="java.lang.String"/>
	<field name="value" class="java.lang.String"/>
	<field name="docno" class="java.lang.String"/>
	<field name="pd_id" class="java.math.BigDecimal"/>
	<field name="locator" class="java.lang.String"/>
	<field name="product" class="java.lang.String"/>
	<field name="date" class="java.sql.Timestamp"/>
	<field name="uom" class="java.lang.String"/>
	<field name="qty" class="java.math.BigDecimal"/>
	<variable name="Number" class="java.lang.Integer" resetType="Group" resetGroup="Product" calculation="Count">
		<variableExpression><![CDATA[$V{Number} == null ? 1 : $V{Number} + 1]]></variableExpression>
	</variable>
	<variable name="qty_1" class="java.math.BigDecimal" resetType="Group" resetGroup="Product" calculation="Sum">
		<variableExpression><![CDATA[$F{qty}]]></variableExpression>
	</variable>
	<group name="Org" isStartNewPage="true">
		<groupExpression><![CDATA[$F{org}]]></groupExpression>
		<groupHeader>
			<band height="68">
				<textField pattern="dd-MMM-yyyy">
					<reportElement x="98" y="20" width="254" height="20" uuid="73b516c1-01ed-4eba-83af-80564c72aaa4"/>
					<box leftPadding="3" rightPadding="3">
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$P{DateFrom}]]></textFieldExpression>
				</textField>
				<textField pattern="dd-MMM-yyyy">
					<reportElement x="98" y="40" width="254" height="20" uuid="97e68a7e-08a4-47d3-8b57-b6998282334b"/>
					<box leftPadding="3" rightPadding="3">
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$P{DateTo}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="9" y="0" width="79" height="20" uuid="6c170d6b-83b6-4880-ae55-1a7e6380e6ee"/>
					<box leftPadding="3" rightPadding="3">
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Organisasi]]></text>
				</staticText>
				<staticText>
					<reportElement x="9" y="20" width="79" height="20" uuid="c8406128-2fcd-45a4-b5db-facbb8f94f4a"/>
					<box leftPadding="3" rightPadding="3">
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Date From]]></text>
				</staticText>
				<staticText>
					<reportElement x="9" y="40" width="79" height="20" uuid="7e4f162a-8087-406d-9e39-493f5c61f930"/>
					<box leftPadding="3" rightPadding="3">
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Date To]]></text>
				</staticText>
				<textField>
					<reportElement x="98" y="0" width="254" height="20" uuid="a90acc80-dad3-4528-a326-60638e800c8b"/>
					<box leftPadding="3" rightPadding="3">
						<pen lineColor="#000000"/>
						<topPen lineColor="#000000"/>
						<leftPen lineColor="#000000"/>
						<bottomPen lineColor="#000000"/>
						<rightPen lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{org}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="89" y="0" width="9" height="20" uuid="b6afd7ca-d941-4f48-8386-c3b5b6d427e6"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[:]]></text>
				</staticText>
				<staticText>
					<reportElement x="89" y="20" width="9" height="20" uuid="b0f6eebb-abe4-46cf-b28e-3bdc0bd260c2"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[:]]></text>
				</staticText>
				<staticText>
					<reportElement x="89" y="40" width="9" height="20" uuid="20a6a405-10e9-42ae-8b67-3f16f9c6668b"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[:]]></text>
				</staticText>
			</band>
		</groupHeader>
	</group>
	<group name="Product" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{product}]]></groupExpression>
		<groupHeader>
			<band height="49">
				<staticText>
					<reportElement x="238" y="30" width="132" height="19" uuid="4eaafd34-1f31-48f4-a85c-4be429ab0ab8"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Product]]></text>
				</staticText>
				<staticText>
					<reportElement x="422" y="30" width="49" height="19" uuid="3fc12125-7f46-47c7-9e7f-3ecbc977432b"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
						<rightPen lineWidth="0.0" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[UOM]]></text>
				</staticText>
				<staticText>
					<reportElement x="371" y="30" width="51" height="19" uuid="d8c60a20-b89b-4e14-a063-76646c774370"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Qty]]></text>
				</staticText>
				<staticText>
					<reportElement x="159" y="30" width="79" height="19" uuid="a388abe4-d45e-45b6-ac15-76c7f521d586"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Value]]></text>
				</staticText>
				<staticText>
					<reportElement x="3" y="30" width="32" height="19" uuid="3e9a9fb7-b0bf-4cdc-a3b8-9a216df17acf"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[No]]></text>
				</staticText>
				<staticText>
					<reportElement x="35" y="30" width="63" height="19" uuid="9e0cb58d-77c3-4ec1-b7a9-8a00d48bac55"/>
					<box>
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Document No]]></text>
				</staticText>
				<staticText>
					<reportElement x="471" y="30" width="84" height="19" uuid="2a1dd51a-8227-42a5-9d5c-6b92ec02242b"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
						<rightPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Locator]]></text>
				</staticText>
				<staticText>
					<reportElement x="98" y="30" width="61" height="19" uuid="e011bcf7-c7db-49b7-a917-32697a7db6ce"/>
					<box leftPadding="3" rightPadding="3">
						<topPen lineWidth="0.5" lineStyle="Dashed"/>
						<leftPen lineWidth="0.5" lineStyle="Dashed"/>
						<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Date]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="20">
				<textField pattern="#,##0.0">
					<reportElement x="338" y="0" width="86" height="20" uuid="789422f0-0fa9-4848-ad38-5f27d87ba421"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{qty_1}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="424" y="0" width="131" height="20" uuid="0cad701e-fc77-4871-9d3f-bc418c78bdb7"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.0"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.5"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{uom}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="3" y="0" width="335" height="20" uuid="f1734bfe-64cf-4279-b648-b7ee7bd3ce81"/>
					<box>
						<topPen lineWidth="0.5"/>
						<leftPen lineWidth="0.5"/>
						<bottomPen lineWidth="0.5"/>
						<rightPen lineWidth="0.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
					<textFieldExpression><![CDATA["Total Quantity "+ $F{product}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="16" width="555" height="63" uuid="7ebe9a2a-d2b6-480a-9050-cd2417c42eb0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="false" isItalic="true"/>
				</textElement>
				<text><![CDATA[Laporan Pemakaian Bahan Baku Produksi]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="16" width="555" height="26" uuid="3f0647bb-3bbf-4fa6-9ccb-a8256c6eb7c5"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="14" isBold="true" isUnderline="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{client}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="455" y="0" width="100" height="20" uuid="ba1583c5-a533-4bf2-8e0a-07ba42a3c32c"/>
				<textElement textAlignment="Right">
					<font size="8" isItalic="true"/>
				</textElement>
				<text><![CDATA[UntaCore ERP Report]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="21" splitType="Stretch">
			<textField>
				<reportElement x="422" y="0" width="49" height="21" uuid="fe53bfc1-1838-44be-b168-748a583b923a"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					<rightPen lineWidth="0.0" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{uom}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="159" y="0" width="79" height="21" uuid="5d224c02-b590-40ff-a6ea-abfa5e42f005"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{value}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="3" y="0" width="32" height="21" uuid="a472efaf-227e-43a8-a2b5-3cbb2bf87b8d"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Number}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="35" y="0" width="63" height="21" uuid="f4e1b407-3039-4f2f-b452-686b4d376a44"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{docno}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="471" y="0" width="84" height="21" uuid="d57a9a25-9bba-4a8c-b036-144d1ed0e9b5"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
					<rightPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{locator}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0">
				<reportElement x="371" y="0" width="51" height="21" uuid="face2df0-3d86-465d-9803-fbd32215f124"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qty}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="238" y="0" width="132" height="21" uuid="978ad073-a67f-45e9-aaaf-36f66568c329"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{product}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="98" y="0" width="61" height="21" uuid="6aa81972-bca7-40a5-95ec-09ea8717f2f5"/>
				<box leftPadding="3" rightPadding="3">
					<topPen lineWidth="0.5" lineStyle="Dashed"/>
					<leftPen lineWidth="0.5" lineStyle="Dashed"/>
					<bottomPen lineWidth="0.5" lineStyle="Dashed"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{date}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="80" splitType="Stretch">
			<textField>
				<reportElement x="435" y="56" width="80" height="24" uuid="6b81c303-5dd8-4dc2-87ec-fa316aa4c78b"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="515" y="56" width="40" height="24" uuid="39899de5-63eb-4a7b-97cd-337f781b8d86"/>
				<textElement verticalAlignment="Bottom"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="54" splitType="Stretch"/>
	</summary>
</jasperReport>
